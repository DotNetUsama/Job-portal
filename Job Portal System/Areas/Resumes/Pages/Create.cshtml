@page
@using Enums
@model CreateModel
@{
    ViewData["Title"] = "Create Resume";
}

<div class="row">
<div class="col-md-6 offset-md-3 col-sm-8 offset-sm-2 multi-step-form">
<div class="progress" style="height: 4px;">
    <div class="progress-bar" role="progressbar"
         aria-valuemin="0" aria-valuemax="100"></div>
</div>
<div class="form-container">
<div class="form-head">
    <h1 class="form-head-title">@ViewData["Title"]</h1>
    <span class="form-head-details">Step <span id="step-num"></span> of <span id="steps-count"></span></span>
</div>
<div class="form-body">
<form method="post">
<div asp-validation-summary="All" class="text-danger"></div>
<fieldset id="educations-partial" class="sub-form tab" data-count="0" data-for="Educations">
    <h2 class="form-body-title"><i class="fa fa-graduation-cap"></i> Educations</h2>
    <ul class="displayed-objects-list list-unstyled"></ul>

    <div class="hidden-objects-container d-none"></div>

    <div class="form-inputs">
        <div class="form-group">
            <label asp-for="Education.FieldOfStudy"></label>
            <input asp-for="Education.FieldOfStudy"
                   id="field-of-study-input" class="form-control" />
            <span asp-validation-for="Education.FieldOfStudy" class="validation-label text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Education.Degree"></label>
            <select asp-for="Education.Degree"
                    asp-items="Html.GetEnumSelectList<EducationDegree>()"
                    class="form-control">
                <option value="">Please select</option>
            </select>
            <span asp-validation-for="Education.Degree" class="validation-label text-danger"></span>
        </div>
        <div class="form-group">
            <label>Education period</label>
            <div class="d-flex">
                <div style="flex: 1">
                    <input asp-for="Education.StartDate" class="form-control" />
                </div>
                <div style="flex: 0 0 25px; align-self: center">
                    <span class="ml-2 mr-2">to</span>
                </div>
                <div style="flex: 1">
                    <input asp-for="Education.EndDate" class="form-control" />
                </div>
            </div>
            <div class="d-flex">
                <div style="flex: 1">
                    <span asp-validation-for="Education.StartDate" class="validation-label text-danger"></span>
                </div>
                <div class="flex: 0 0 25px"></div>
                <div style="flex: 1">
                    <span asp-validation-for="Education.EndDate" class="validation-label text-danger"></span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Education.School"></label>
            <input asp-for="Education.School" id="school-input"
                   class="form-control" />
            <span asp-validation-for="Education.School"
                  class="validation-label text-danger"></span>
        </div>
    </div>
    <button type="button"
            class="btn btn-submit btn-sub-submit">
        <i class="fa fa-plus-circle"></i> Add
    </button>
</fieldset>

<fieldset id="work-experiences-partial" class="sub-form tab" data-count="0" data-for="WorkExperiences">
    <h2 class="form-body-title"><i class="fa fa-briefcase"></i> Work experiences</h2>
    <ul class="displayed-objects-list list-unstyled"></ul>

    <div class="hidden-objects-container d-none"></div>

    <div class="form-inputs">
        <div class="form-group">
            <label asp-for="WorkExperience.JobTitle"></label>
            <input asp-for="WorkExperience.JobTitle"
                   id="work-experience-job-title-input" class="form-control" />
            <span asp-validation-for="WorkExperience.JobTitle" class="validation-label text-danger"></span>
        </div>
        <div class="form-group">
            <label>Work period</label>
            <div class="d-flex">
                <div style="flex: 1">
                    <input asp-for="WorkExperience.StartDate" class="form-control" />
                </div>
                <div style="flex: 0 0 25px; align-self: center">
                    <span class="ml-2 mr-2">to</span>
                </div>
                <div style="flex: 1">
                    <input asp-for="WorkExperience.EndDate" class="form-control" />
                </div>
            </div>
            <div class="d-flex">
                <div style="flex: 1">
                    <span asp-validation-for="WorkExperience.StartDate" class="validation-label text-danger"></span>
                </div>
                <div class="flex: 0 0 25px"></div>
                <div style="flex: 1">
                    <span asp-validation-for="WorkExperience.EndDate" class="validation-label text-danger"></span>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="WorkExperience.Company"></label>
            <input asp-for="WorkExperience.Company" id="company-input" class="form-control" />
            <span asp-validation-for="WorkExperience.Company" class="validation-label text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="WorkExperience.Description"></label>
            <textarea asp-for="WorkExperience.Description" class="form-control"></textarea>
            <span asp-validation-for="WorkExperience.Description" class="validation-label text-danger"></span>
        </div>
    </div>
    <button type="button"
            class="btn btn-submit btn-sub-submit">
        <i class="fa fa-plus-circle"></i> Add
    </button>
</fieldset>

<fieldset id="skills-and-seekded-job-titles-partial" class="tab">
    <fieldset class="sub-form" data-count="0" data-for="OwnedSkills" id="owned-skills-sub-form">
        <legend>Owned Skills</legend>

        <ul class="displayed-objects-list list-unstyled"></ul>

        <div class="hidden-objects-container d-none"></div>

        <div class="form-inputs form-row">
            <div class="form-group col-md-6">
                <label asp-for="OwnedSkill.Skill"></label>
                <input asp-for="OwnedSkill.Skill" id="skill-input" class="form-control" />
            </div>
            <div class="form-group col-md-4">
                <label asp-for="OwnedSkill.Years"></label>
                <input asp-for="OwnedSkill.Years" id="skill-years" class="form-control" />
            </div>
            <div class="form-group col-md-2 d-flex">
                <button type="button"
                        class="btn btn-submit btn-sub-submit mt-auto ml-auto">
                    <i class="fa fa-plus-circle"></i> Add
                </button>
            </div>
        </div>
        <div class="form-row">
            <div class="col-md-6">
                <span asp-validation-for="OwnedSkill.Skill" class="validation-label text-danger"></span>
            </div>
            <div class="col-md-4">
                <span asp-validation-for="OwnedSkill.Years" class="validation-label text-danger"></span>
            </div>
        </div>
    </fieldset>
    <hr />
    <fieldset class="sub-form" data-count="0" data-for="SeekedJobTitles" id="seeked-job-titles-sub-form">
        <legend>Seeked job titles <span class="font-weight-light">(Optional)</span></legend>

        <ul class="displayed-objects-list list-unstyled"></ul>

        <div class="hidden-objects-container d-none"></div>

        <div class="form-inputs form-row">
            <div class="form-group col-md-10">
                <label asp-for="SeekedJobTitle.JobTitle"></label>
                <input asp-for="SeekedJobTitle.JobTitle"
                       id="seeked-job-title-input" class="form-control" />
            </div>
            <div class="form-group col-md-2 d-flex">
                <button type="button" class="btn btn-submit btn-sub-submit mt-auto ml-auto">
                    <i class="fa fa-plus-circle"></i> Add
                </button>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-md-10">
                <span asp-validation-for="SeekedJobTitle.JobTitle" class="validation-label text-danger"></span>
            </div>
        </div>
    </fieldset>
</fieldset>
<fieldset id="general-info-partial" class="tab">
    <h2 class="form-body-title"><i class="fa fa-question-circle"></i> General information</h2>
    <div class="form-group">
        <label asp-for="ResumeInfo.MinSalary"></label>
        <input asp-for="ResumeInfo.MinSalary" class="form-control" />
        <span asp-validation-for="ResumeInfo.MinSalary" class="validation-label text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="ResumeInfo.MovingDistanceLimit"></label>
        <input asp-for="ResumeInfo.MovingDistanceLimit" class="form-control" />
        <span asp-validation-for="ResumeInfo.MovingDistanceLimit" class="validation-label text-danger"></span>
    </div>
    <div class="form-group">
        <label asp-for="ResumeInfo.Biography"></label>
        <textarea asp-for="ResumeInfo.Biography" class="form-control">
                                @Model.ResumeInfo.Biography
                            </textarea>
        <span asp-validation-for="ResumeInfo.Biography" class="validation-label text-danger"></span>
    </div>
    <div class="form-group">
        <label class="checkbox-container">
            <label asp-for="ResumeInfo.IsSeeking"></label>
            <input asp-for="ResumeInfo.IsSeeking" checked />
            <span class="checkmark"></span>
        </label>
    </div>
    <div class="form-group">
        <label class="checkbox-container">
            <label asp-for="ResumeInfo.IsPublic"></label>
            <input asp-for="ResumeInfo.IsPublic" checked />
            <span class="checkmark"></span>
        </label>
    </div>
    <div class="form-row">
        @foreach (var entity in Model.ResumeInfo.JobTypes)
        {
            <div class="col-md-4">
                <label class="checkbox-container">
                    @entity.Key.GetDescription()
                    <input asp-for="ResumeInfo.JobTypes[entity.Key]" />
                    <span class="checkmark"></span>
                </label>
            </div>
        }
    </div>
</fieldset>

<div class="d-flex">
    <button type="button" id="prevBtn"
            class="btn btn-step ml-2 mr-2" onclick="nextPrev(-1)">
        <i class="fa fa-chevron-left"></i> Previous
    </button>
    <button type="button" id="nextBtn"
            class="btn btn-step ml-2 mr-2" onclick="nextPrev(1)">
        Next <i class="fa fa-chevron-right"></i>
    </button>

    <button asp-page-handler="createResume"
            class="btn btn-submit ml-auto cancel">
        Create
    </button>
</div>
</form>
</div>
</div>
</div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <partial name="_ResumesScriptsPartial" />
}